{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 14, "column": 0}, "map": {"version":3,"sources":["file:///Users/drjacobyakubumahama/Documents/The%20Insight%20Engine/app/dashboard/dashboard-content.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const DashboardContent = registerClientReference(\n    function() { throw new Error(\"Attempted to call DashboardContent() from the server but DashboardContent is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/Documents/The Insight Engine/app/dashboard/dashboard-content.tsx <module evaluation>\",\n    \"DashboardContent\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,mBAAmB,IAAA,6SAAuB,EACnD;IAAa,MAAM,IAAI,MAAM;AAAgP,GAC7Q,kGACA","ignoreList":[0]}},
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///Users/drjacobyakubumahama/Documents/The%20Insight%20Engine/app/dashboard/dashboard-content.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const DashboardContent = registerClientReference(\n    function() { throw new Error(\"Attempted to call DashboardContent() from the server but DashboardContent is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/Documents/The Insight Engine/app/dashboard/dashboard-content.tsx\",\n    \"DashboardContent\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,mBAAmB,IAAA,6SAAuB,EACnD;IAAa,MAAM,IAAI,MAAM;AAAgP,GAC7Q,8EACA","ignoreList":[0]}},
    {"offset": {"line": 42, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 50, "column": 0}, "map": {"version":3,"sources":["file:///Users/drjacobyakubumahama/Documents/The%20Insight%20Engine/app/dashboard/page.tsx"],"sourcesContent":["import { auth } from \"@/auth\";\nimport { redirect } from \"next/navigation\";\nimport { DashboardContent } from \"./dashboard-content\";\nimport { getAnalytics } from \"@/app/actions/getAnalytics\";\nimport { listProperties } from \"@/app/actions/listProperties\";\n\nexport default async function DashboardPage({\n  searchParams,\n}: {\n  searchParams: Promise<{ propertyId?: string; demo?: string }> | { propertyId?: string; demo?: string };\n}) {\n  const session = await auth();\n\n  // Redirect to landing page if no session\n  if (!session?.user) {\n    redirect(\"/\");\n  }\n\n\n  // Handle searchParams (can be a Promise in Next.js 15)\n  const params = searchParams instanceof Promise ? await searchParams : searchParams;\n\n  // Check if we're in demo mode (triggered manually via URL param)\n  const isDemoMode = (params as any)?.demo === \"true\";\n\n  // Only fetch properties if not in demo mode\n  let properties: Array<{ id: string; displayName: string }> = [];\n  let hasPropertiesError = false;\n  \n  if (!isDemoMode) {\n    try {\n      const propertiesResult = await listProperties();\n      properties = propertiesResult.properties || [];\n      hasPropertiesError = Boolean(propertiesResult.error && properties.length === 0);\n    } catch (error) {\n      console.error(\"Error fetching properties:\", error);\n      hasPropertiesError = true;\n      properties = [];\n    }\n  }\n\n  // Get property ID from URL params, or use first property, or fallback to env var\n  const propertyId =\n    params?.propertyId ||\n    properties[0]?.id ||\n    process.env.GA4_PROPERTY_ID ||\n    \"\";\n\n  // Fetch analytics data for the selected property, or use demo data\n  let analyticsData;\n  if (isDemoMode) {\n    // Mock data for demo mode with specific revenue leak numbers\n    analyticsData = {\n      activeUsers: 14250,\n      conversions: 456, // 3.2% of activeUsers\n      sessions: 28400,\n      leakingRevenue: 12450, // $12,450 / month\n      topCulprit: \"Mobile Checkout Latency (4.2s)\",\n      recoveryPotential: \"+18% Conversion lift\",\n      dateRange: {\n        startDate: new Date(Date.now() - 7 * 24 * 60 * 60 * 1000).toISOString().split(\"T\")[0],\n        endDate: new Date().toISOString().split(\"T\")[0],\n      },\n    };\n  } else {\n    try {\n      analyticsData = propertyId\n        ? await getAnalytics(propertyId)\n        : { error: \"No property ID available\" };\n    } catch (error) {\n      console.error(\"Error fetching analytics:\", error);\n      analyticsData = {\n        error: \"Google Analytics connecting... Please set up API keys.\",\n      };\n    }\n  }\n\n  return (\n    <DashboardContent\n      session={session}\n      analyticsData={analyticsData}\n      properties={properties}\n      currentPropertyId={propertyId}\n      isDemoMode={isDemoMode}\n      hasPropertiesError={hasPropertiesError}\n    />\n  );\n}\n\n"],"names":[],"mappings":";;;;;AAAA;AACA;AAAA;AACA;AACA;AACA;;;;;;;AAEe,eAAe,cAAc,EAC1C,YAAY,EAGb;IACC,MAAM,UAAU,MAAM,IAAA,iJAAI;IAE1B,yCAAyC;IACzC,IAAI,CAAC,SAAS,MAAM;QAClB,IAAA,sOAAQ,EAAC;IACX;IAGA,uDAAuD;IACvD,MAAM,SAAS,wBAAwB,UAAU,MAAM,eAAe;IAEtE,iEAAiE;IACjE,MAAM,aAAa,AAAC,QAAgB,SAAS;IAE7C,4CAA4C;IAC5C,IAAI,aAAyD,EAAE;IAC/D,IAAI,qBAAqB;IAEzB,IAAI,CAAC,YAAY;QACf,IAAI;YACF,MAAM,mBAAmB,MAAM,IAAA,uLAAc;YAC7C,aAAa,iBAAiB,UAAU,IAAI,EAAE;YAC9C,qBAAqB,QAAQ,iBAAiB,KAAK,IAAI,WAAW,MAAM,KAAK;QAC/E,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,8BAA8B;YAC5C,qBAAqB;YACrB,aAAa,EAAE;QACjB;IACF;IAEA,iFAAiF;IACjF,MAAM,aACJ,QAAQ,cACR,UAAU,CAAC,EAAE,EAAE,MACf,QAAQ,GAAG,CAAC,eAAe,IAC3B;IAEF,mEAAmE;IACnE,IAAI;IACJ,IAAI,YAAY;QACd,6DAA6D;QAC7D,gBAAgB;YACd,aAAa;YACb,aAAa;YACb,UAAU;YACV,gBAAgB;YAChB,YAAY;YACZ,mBAAmB;YACnB,WAAW;gBACT,WAAW,IAAI,KAAK,KAAK,GAAG,KAAK,IAAI,KAAK,KAAK,KAAK,MAAM,WAAW,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE;gBACrF,SAAS,IAAI,OAAO,WAAW,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE;YACjD;QACF;IACF,OAAO;QACL,IAAI;YACF,gBAAgB,aACZ,MAAM,IAAA,mLAAY,EAAC,cACnB;gBAAE,OAAO;YAA2B;QAC1C,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,6BAA6B;YAC3C,gBAAgB;gBACd,OAAO;YACT;QACF;IACF;IAEA,qBACE,mRAAC,kMAAgB;QACf,SAAS;QACT,eAAe;QACf,YAAY;QACZ,mBAAmB;QACnB,YAAY;QACZ,oBAAoB;;;;;;AAG1B"}}]
}